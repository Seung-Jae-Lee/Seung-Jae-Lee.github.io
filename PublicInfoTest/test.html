<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<title>Busan Radiation Place List</title>
</head>
<body>
<div>DOM 테스트</div>
<div>
    <input type="button" id = "test" value="XML DOM" onclick="getData()">
</div>
result : <div id="result"></div>
</body>
</html>

<script type="text/javascript">

var httpRequest = null;
var xmlDoc;
var link = "http://opendata.busan.go.kr/openapi/service/EnvironmentalRadiationInfoService/getEnvironmentalRadiationPlaceList?ServiceKey=";
var key = "4KBLkLFia5DFZivxgcFUJesrUcnYOXnaS4jSqWAcnnhy8qGljIsNnl3wE2BjpbdFwSU70dbproeBjstLquF7sg%3D%3D";
var msg = link + key;

function getXMLHttpRequest()
{
  //브라우저가 IE일 경우 XMLHttpRequest 객체 구하기
  if (window.ActiveXObject)
  { //Msxml2.XMLHTTP가 신버전이어서 먼저 시도
    try
    {
      return new ActiveXObject("Msxml2.XMLHTTP");
    }
    catch(e)
    {
      try
      {
        return new ActiveXObject("Microsoft.XMLHTTP");
      }
      catch(e1)
      {
        return null;
      }
    } //IE 외 파이어폭스 오페라 같은 브라우저에서 XMLHttpRequest 객체 구하기
  }
  else if (window.XMLHttpRequest)
  {
    return new XMLHttpRequest();
  }
  else
  {
    return null;
  }
}

function getData()
{
  httpRequest = getXMLHttpRequest();
  httpRequest.onreadystatechange = callbackFunction;
  httpRequest.open("GET",'RadiationPlaceList.xml',true);
  httpRequest.send(null)
}

function callbackFunction()
{
  if(httpRequest.readyState == 1 || httpRequest.readyState == 2 || httpRequest.readyState ==3 )
  { //화면에 작업 중 메시지 출력
  }
  else if(httpRequest.readyState == 4)
  {
    if(httpRequest.status == 200)
    {
      //서버 응답 결과에 따라 알맞은 작업 처리
      alert("정 상:" + httpRequest.status);
    }
    else
    {
      alert("문제 발생:" + httpRequest.status);
    }
  }
}
</script>
